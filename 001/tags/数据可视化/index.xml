<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>数据可视化 on 往东行</title>
    <link>http://wangdongxing.com/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/</link>
    <description>Recent content in 数据可视化 on 往东行</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Thu, 19 Mar 2020 14:08:00 +0000</lastBuildDate><atom:link href="http://wangdongxing.com/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>优秀的商业智能和数据可视化产品：Power BI</title>
      <link>http://wangdongxing.com/posts/pm/powerbi/</link>
      <pubDate>Thu, 19 Mar 2020 14:08:00 +0000</pubDate>
      
      <guid>http://wangdongxing.com/posts/pm/powerbi/</guid>
      <description>Power BI 是 Microsoft 出品的一套商业智能体系（包括软件，工具，服务等），可用来构建从个人到中大型企业组织的商业智能平台，便于产品、运营、数据分析师等用户探索和分析数据。
和 Tableau 一样，Power BI 也支持非常丰富的数据源，接入数据源后也可以快速实现数据可视化及分析探索；同时，Power BI 也在 Gartner 分析和商业智能魔力象限中被评为领导者，BI(商业智能)和可视化方面十分优秀。
PowerBI运行逻辑 PowerBI 整体的运行逻辑是先把数据源按指标场景「筛选」数据、生成「度量值」后，把度量值作为生成图表的「上下文」及依据。
这个过程涉及几个核心的模块：数据建模、筛选器、度量值。
数据建模 利用 SQL 的思维去看 PowerBI 有助于我们理解它的运行逻辑，尤其是在数据建模阶段。
我们在使用数据库的时候，经常需要通过 Join 方法把不同表格的数据连接起来，用于实现多字段的数据提取及不同维度的计算，但在 PowerBI 并不需要这么麻烦，它是通过数据建模来解决这个问题的。
在 PowerBI 中，数据建模的重要性就好比透视表之于 Excel，因为如果没处理好它，后续的度量值、切片器等工具都会出问题，更不用说计算结果了。
什么是数据建模 数据建模是分析的基础，从形式上看，数据建模就是把多个表格关联起来。但它的实际内涵不至于此，我们可以借用 Excel 里的数据透视表来理解数据建模：
为了更好地理解，我们先回归到 数据分析的底层逻辑：报表分析 =分类维度x事实指标。
比如业务提数据需求说：要按月看不同品类的销售额。
在这个需求中，业务要看的 事实指标 是 销售额，其余描述该指标的&amp;quot;形容词&amp;quot;就是 分类维度： 按月(时间日期分类)、不同品类(商品品类分类)。
更直观地从 Excel 透视表来看，行、列标签就是需要透视的维度，表格中的值则是按公式计算的事实指标：
基于该分析逻辑，从应用分析层反推到表格层面，可以把表分为维度表与事实表。 在具体使用时，只需要从维度表中选择需要透视（分析）的维度，再从事实表计算指标即可完成报表分析。
这个数据建模类型，有一个更专业的名字：维度建模。
比如上图的案例是计算每个月不同产品分类的销售额：订单表就是事实表，产品规格、产品表、日期表就是维度表；为了能实现上表的计算需要把事实表和维度表建立关系，这个建立关系的过程，就是数据建模。
如图，订单表与产品规格表，通过字段sku连接起来; 产品表和产品规格表通过字段spu连接起来。
关系 数据库表连接中，重要的是不同连接方法，那接下来就谈谈 PowerBI 数据建模中的 表间「关系」 。
首先要注意，用户创建关系的列，必须是一样的，且只能通过一个字段连接。
关系的类型 概括来说，数据模型中共有三种关系
多对一、一对多：比如学生和校长之间就是多对一的关系，一个学校有多个学生，但只有一个校长。这是数据建模中最为常见且建议使用的关系类型。 一对一：比如班级和班主任就是一对一的关系，每个班有且只有一个班主任，每个班主任也只带一个班。 多对多：比如学生和任课老师的关系，每个学生有多个科目的老师，每个老师向多个学生教授知识。一般情况下不建议采用这种关系，因为多对多筛选会很容易导致筛选混乱，且性能较差。 遇到多对多关系时，一般的解决方案就是拆表：在两个表中间插入多一个中间表。比如学生和任课老师之间，插入学校表：多个学生对应一个学校，一个学校对应多个任课老师。
关系链 关系有一个重要属性，那就是关系可以形成链条，比如上图案例中，订单表中记录的商品是到 SKU 级别，所以订单表和产品规格表通过 SKU 建立关系，而多个 SKU 可能对应一个 SPU，所以产品规格表和产品表通过 SPU 建立关系。
当我们要从 SPU 层级来做汇总分析时，这个订单表-产品规格表-产品表这个关系链就能起作用，可以计算比如产品类别的合计销售金额。
此时再回到前面遇到多对多关系时的解决方案，就能理解之所以能通过插入中间表解决，就是因为关系链的存在：学生-学校-任课老师。
关系方向 在上图案例中，我们观察到，关系是存在方向的，准确来说这个箭头确定了筛选的方向，比如图中产品规格表和订单表之间一对多的关系是从产品规格表指向了订单表，也就是可以通过产品规格表的字段来筛选分析订单表， 但订单表不能反过来筛选分析规格表。
一般来说 不建议使用双向筛选的关系 ，尤其是在复杂数据模型中，双向筛选会导致同一个筛选条件产生多条数据流向，进而产生不同的计算结果。
筛选器 PowerBI 有两个地方可以使用筛选器，一个是筛选器栏，一个是切片器，它们的功能是一样的：在计算之前对数据进行过滤。
假设我们现在有公司总的销售额，想要看单个品类，比如数码产品的销售额，就可以把字段&amp;quot;品类&amp;quot;拖拽到筛选器，或者在报表页面新建一个切片器，把字段&amp;quot;品类&amp;quot;拖拽到切片器，然后再选择品类：数码产品，此时页面呈现的数据就是数码产品的销售额。
那在实操中，一般放什么到过滤器里？前面数据建模小节中，我们介绍了维度建模，在分析数据时， 用维度透视事实数据，也就是说，我们一般是要把维度表里的维度放到过滤器中。
比如前面案例中，订单表是事实表，产品表是维度表，我们要做过滤筛选时，就要把产品表里的维度放到过滤器中，比如按产品类型、按品类对销售订单进行过滤。
度量值 度量值是 PowerBI 战斗力的核心，通过它，使用者可以轻松实现许多复杂的计算。
什么是度量值？ 简单来说度量值是一个计算器，设计好函数公式后，输入指定的数据，返回计算结果。
更形象来说，度量值是一个&amp;quot;便携式的计算盒子&amp;quot;，可以放到不同上下文里，用同样的公式计算出不同的结果。
更准确来说，度量值是一个虚拟字段，它不会固定在某个表里，因此也不会改变数据结构。前面说它是&amp;quot;便携的计算盒子&amp;quot;，是因为它的使用方式是要把它拖拽到不同报表里，呈现计算结果，同时它又随着过滤器的筛选而变化，也可以说它是在与报表交互时才使用的。
如图，新建一个度量值 [销售额] = sum(&amp;lsquo;订单表&amp;rsquo;[销售额]) 用于计算「合计」的销售额指标，但是它放到不同类别的表格中，统计的就是不同子类别的合计销售额，而把它单独放出来，就是所有品类的合计销售额。
度量值与Excel透视表 为了帮助理解度量值，可以拿我们最为熟悉的Excel透视表来作对比：
透视表 = 筛选+列+行+值 度量值 = 上下文+筛选计算 由这两个公式可以看出，度量值里的上下文可以显性地对应到透视表里的行和列，但是它还有隐形的关系链，筛选器的作用能通过这条关系链传递，所以度量值的上下文具有灵活的定义。
而度量值里的 筛选计算 就类似于透视表里的筛选和值，其中值就是公式的计算结果。</description>
    </item>
    
    <item>
      <title>商业智能和数据可视化领导者：Tableau</title>
      <link>http://wangdongxing.com/posts/pm/tableau/</link>
      <pubDate>Mon, 17 Dec 2018 08:33:00 +0000</pubDate>
      
      <guid>http://wangdongxing.com/posts/pm/tableau/</guid>
      <description>Tableau 成立于 2003 年，是斯坦福大学一个计算机科学项目的成果，该项目旨在改善分析流程并让人们能够通过可视化更轻松地使用数据。Tableau 连续 6 年在 Gartner 分析和商业智能魔力象限中被评为领导者，BI(商业智能)和可视化方面十分优秀。
下面是我在公司(滴滴)负责 Tableau 平台的一些信息：
产品：1人(我)，负责平台二次开发(权限系统打通、审批流程设计)，日常运营(问题答疑、权限管控、使用手册撰写、定期培训等) 开发：1-2人，负责定制开发，数仓维护、系统健康度管控 业务部门：整个滴滴公司10+业务部门使用 人数：日均用户数1800+ 使用产品：Tableau Desktop + Tableau Server，永久授权版 费用：几百万/年 Tableau主要产品线
Tableau Desktop：本地计算机数据分析、数据探索、可视化神器，也可以将制作好的图表、看板发布到 Server 端，与别人共享。 Tableau Server：用于发布和管理Tableau Desktop制作的仪表盘，实现视图共享，需要把它部署到服务器上，展开协作并共享自己的仪表板中的结果。 Tableau Online：完全托管式云端解决方案。准备数据、制作、分析、协作、发布和共享，都可在 Tableau Online中一站完成。申请账号就能使用，不用自己部署server，适用于有协作需求，但不想部署server的场景。 Tableau Public：免费的服务产品，可把自己创建的视图发布到Public上，公开展示和分享数据。Tableau Public 有非常丰富的数据可视化库，可参考学习和找数据灵感。 Tableau Prep：可视化ETL神器，能更快地对数据进行合并、组织和清理等前期数据预处理工作。处理完的数据可直接导入Desktop，无缝衔接。 特点 &amp;amp; 优势 能长期稳坐BI领域领导者，Tableau有太多的优点，下面简单列举几个：
1、支持丰富的数据源。
市面上用的数据源，常用不常用的，Tableau基本都支持
2、超强的数据可视化能力。
作为数据可视化起家的Tableau，你能想到的图表、看板样式，Tableau基本都能满足，如果不能满足说明你对Tableau的使用还不熟练。我当时参加一位台湾老师的初、中培训课程，看了他对Tableau的使用，惊为天人，当然，这样说明Tableau在数据可视化方面的能力。
想学习更多看板设计，可以在Public网站上找灵感，地址为：https://public.tableau.com/app/discover/viz-of-the-day
3、便捷的交互式可视化设计。
准备好数据源后，只需简单拖拉拽便可以立刻生成漂亮的图表，Tableau会根据你的选择的维度和指标，智能的帮你生成更便于分析的图表。带有条件选择的看板以及多表关联，也可以通过简单配置快速实现。
4、强悍的数据处理能力。
一般计算机配置，用Excel基本很难打开百万行数据的文件，但是把数据导入Tableau，便可以轻松应对，甚至很流畅的进行数据分析探索。这可能和Tableau获得专利的基础技术 VizQL 有直接关系。
5、协作方便。
用户可以将自己创建好的看板发布到自己所在组织的空间里，同组织的同学便可以直接查看和使用。也可以将自己设计好的文件导出分享，别人可在此基础上继续使用和设计。
6、鼓励交互探索。
Tableau看板的设计理念除了让制作者交互分析外，更鼓励查看者通过交互进行探索，不论通过增加筛选项，还是多表联动，还是将看板制作成story，都能很好的实现。而非仅仅像查看图片一样，把它当做一份静止的数据看板。
常用的数据故事类型如时间序列、逐层下钻、横向对比等等。
7、支持脚本语言。
为了避免性能问题并在Tableau中进行复杂的表计算, 用户可以包括Python或R。使用Python脚本, 可以通过对数据包执行数据清理任务来减轻软件的负担。
确定 &amp;amp; 不足 金无足赤，Tableau也有一些不足。例如
看板不能自适应屏幕。如果仪表板是在1920 X 1080的屏幕分辨率上创建的，在2560 X 1440上查看不会自动响应。 二次开发不够灵活。很多功能是黑盒，不过毕竟是商业产品而非开源产品，这个可以理解。 价格昂贵。租赁方式，Server是每个用户每年420美金，Desktop是每个用户每年840美金。滴滴的Desktop是买的永久的，每年续费维保400美金，Server买的是本地部署8core的(这种据说现在没有了)，加上每个Desktop的license，算下来一年几百万，确实贵 其他 平台架构 &amp;amp; 功能简介
除了滴滴外，国内还有很多中大型企业、互联网公司在使用Tableau，例如：银行、航空公司、头条、乐视、华为、首汽。对于数据驱动文化很强的企业来说，在没有足够的人力、时间来自己开发一套BI系统前，采购成熟的商业产品可能效率是最高的。如果Tableau超预算了，也可以考虑其他类似的产品。</description>
    </item>
    
    <item>
      <title>数据可视化产品：BDP</title>
      <link>http://wangdongxing.com/posts/pm/bdp/</link>
      <pubDate>Sat, 15 Jul 2017 12:20:00 +0000</pubDate>
      
      <guid>http://wangdongxing.com/posts/pm/bdp/</guid>
      <description>数据相关的职位，不论是数据分析师还是数据产品经理，都离不开和数据报表打交道。小到一份数据报告，大到一个 BI (Business Intelligence 商业智能)产品，都和数据可视化息息相关。今天和大家分享一个优秀的数据可视化产品 —— BDP. BDP 是北京海致公司出品的商业智能产品，与国外的 Tableau、Qlik，国内的永宏 BI 类似。BDP 去年我就有在使用，此次介绍主要从支持的「支持的数据类型」、「数据处理能力」、「视觉、交互、操作」三方面介绍。
支持的数据类型 作为一个 BI 产品，能支持丰富的数据类型是很重要的。除了支持上传 Excel、MySQL、Oracle、SQLServer、Hive 等主流的数据源外，BDP 还支持网络营销数据、在线客户数据、网站监测数据及一些公共数据。 （支持的数据源）
网络营销数据 BDP 支持的很丰富，如百度搜索推广、搜狗搜索推广、360 搜索推广、神马搜索推广，百度网盟推广、搜狗网盟推广、360 移动推广，现在又增加了微信公众号平台、微信小程序、百度指数、今日头条推广、网易新闻推广和优酷土豆 DSP 等平台。
在线客服系统支持的也很全面，主流的客户系统 53 客服、快商通、百度商桥、TQ 客服、Live800、诚信通和美洽客服都涵盖了。 BDP 还支持几个比较主流的网站监测系统，如百度统计、Google Analytics、友盟、TalkingData 和 GrowingIO. 值得一提的是，支持并同步网站监测系统数据还是很实用的。有很多人是通过网站监测系统接口，自己写程序抽数，现在就方便多了。不过，个人版只支持百度统计、友盟和 TalkingData，如果想抽取 Google Analtycis 的数据得升级企业版。我把我的百度统计同步过来了，下面是我博客的数据：
（抽取百度统计数据）百度索引量是 SEO 非常重要的一个数据指标。我的博客文章不太多，所以索引量比较少，通过百度带来的流量也就不会太多了。 BDP 还支持一些公共的数据，如天气数据、人口数据、国民经济数据、居民消费价值指数等。如果有研究这方面数据的同学可以直接使用。
（公共数据）数据处理能力 极强的数据处理能力也是 BI 非常重要的硬性条件。处理数据时机器卡死、计算数据时漫长的等待很容易让人崩溃，毕竟时间就是金钱嘛。
BDP 官网描述的「亿级数据秒级处理」我没有试过，不过我把一个 100w 行的 Excel 导入到 BDP，使用起来还是很流畅的。同时，数据在运算和绘制图表时相应速度也都很快。不过如果仪表盘图表太多，向下滚屏时会有 1s 左右的数据延迟。
视觉、交互、操作 BDP 的视觉、交互做的非常出色。产品「颜值」远超国内 80% 的数据产品，下面是一张仪表盘截图：
（仪表盘示例）仪表盘制作流程：创建仪表盘 - 添加图表 - 选择工作表 - 拖拉拽点选。图表编辑界面如下：
（编辑图表）左侧是选中的工作表中包含的维度和指标，根据需要将指标和维度拖拽到中间的维度、数值和筛选器中，数据变呈现出来了。可以在右侧选择图表类型，图表类型也很丰富，除了常用的饼图、柱状图、折线图外，还有瀑布图、散点图、树图、词云、雷达等。
（支持的图表类型）仪表盘中的每个图表鼠标悬停时会显示更多的操作：刷新图表、编辑、全屏、数据更新、预警设置、高级排序、导出图片、导出 Excel、移动图表、复制图表、联动设置、跳转设置和删除。点击全屏后，仪表盘中的所有报表像幻灯片一样，可以一个一个切换图表查看，或者自动播放。全屏后还可以设置适配设备(PC 显示器、投影仪、TV 显示器)，给汇报时比较方便。
（图表更多操作）（自定义预警）（全屏显示）每个仪表盘还支持设置全局筛选，相当于 PPT 中的图表增加了筛选的交互。仪表盘还支持导出，导出格式可以选择图片或者 PDF。仪表盘还支持公开分享和私密分享(私密分享个人版不支持)，便于将自己做好的仪表盘分享给别人。
（仪表盘分享）总结 BDP 可谓是数据可视化领域的后起之秀，产品在细节上打磨的很好，值得体验。</description>
    </item>
    
    <item>
      <title>数据可视化之热力图</title>
      <link>http://wangdongxing.com/posts/pm/heat-map/</link>
      <pubDate>Sat, 15 Aug 2015 12:28:00 +0000</pubDate>
      
      <guid>http://wangdongxing.com/posts/pm/heat-map/</guid>
      <description>热力图也是一种数据可视化，通过热力图可以直观展现数据分布。热力图几年前在网页中应用比较多，现在随着大数据时代的到来，百度地图、高德地图也推出了人群分布热力图，直观反映区域地理位置的人群拥挤情况。
网页中的热力图通常可以通过以下两方面来指导网页优化、广告位优化：
页面哪部分更能吸引访问者 页面哪些非超链接被访问者误认为是超链接而点击 热力图原理 前端JS记录鼠标停留在页面的坐标的数据，并将数据以日志形式存储到服务器中，程序拿到这些数据并进行图形渲染，最后通过设置阀值在页面呈现热力图效果。
参考资源 heatmap.js How to make heat maps 高德地图API 百度统计 百度地图热力图 heatmap.js 一个用canvas画热力图的利器 浅谈Heatmap </description>
    </item>
    
  </channel>
</rss>
