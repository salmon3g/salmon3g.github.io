<!DOCTYPE html>
<html lang="en" dir="auto">
<head>
	<meta name="generator" content="Hugo 0.104.3" /><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>往东行</title>
<meta name="description" content="西方有真经，我往东行">
<meta name="author" content="wangdongxing">
<link rel="canonical" href="https://salmon3g.github.io/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5f205cf3120ebe35a772ccea2e9f3eda5fd25084b8fa31284c8ceeefb977334a.css" integrity="sha256-XyBc8xIOvjWncszqLp8&#43;2l/SUIS4&#43;jEoTIzu77l3M0o=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://salmon3g.github.io/img/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://salmon3g.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://salmon3g.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://salmon3g.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://salmon3g.github.io/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://salmon3g.github.io/index.xml">
<link rel="alternate" type="application/json" href="https://salmon3g.github.io/index.json">
<noscript>
  <style>#theme-toggle,.top-link{display:none;}</style>
  <style>
      @media (prefers-color-scheme: dark){
        :root {
          --theme: rgb(29, 30, 32);
          --entry: rgb(46, 46, 51);
          --primary: rgb(218, 218, 219);
          --secondary: rgb(155, 156, 157);
          --tertiary: rgb(65, 66, 68);
          --content: rgb(196, 196, 197);
          --hljs-bg: rgb(46, 46, 51);
          --code-bg: rgb(55, 56, 62);
          --border: rgb(51, 51, 51);
        }
        .list {background: var(--theme);}
        .list:not(.dark)::-webkit-scrollbar-track {background: 0 0;}
        .list:not(.dark)::-webkit-scrollbar-thumb { border-color: var(--theme);}
      }
  </style>
</noscript>
<meta property="og:title" content="往东行" />
<meta property="og:description" content="西方有真经，我往东行" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://salmon3g.github.io/" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="往东行"/>
<meta name="twitter:description" content="西方有真经，我往东行"/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "往东行",
  "url": "https://salmon3g.github.io",
  "description": "西方有真经，我往东行",
  "thumbnailUrl": "https://salmon3g.github.io/img/favicon.ico",
  "sameAs": [
      "mailto:datapig@126.com", "index.xml"
  ]
}
</script>
</head>
<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://salmon3g.github.io" accesskey="h" title="往东行 (Alt + H)">往东行</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://salmon3g.github.io/categories/pm/" title="产品">
                    <span>产品</span>
                </a>
            </li>
            <li>
                <a href="https://salmon3g.github.io/categories/reading/" title="阅读">
                    <span>阅读</span>
                </a>
            </li>
            <li>
                <a href="https://salmon3g.github.io/categories/analytics/" title="分析">
                    <span>分析</span>
                </a>
            </li>
            <li>
                <a href="https://salmon3g.github.io/categories/life/" title="生活">
                    <span>生活</span>
                </a>
            </li>
            <li>
                <a href="https://salmon3g.github.io/archives/" title="归类">
                    <span>归类</span>
                </a>
            </li>
            <li>
                <a href="https://salmon3g.github.io/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://salmon3g.github.io/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="https://salmon3g.github.io/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2>优秀的数据监测产品：Google Analytics
    </h2>
  </header>
  <div class="entry-content">
    <p>数据监测产品有很多，我使用过的，就有十几款，价格也是从免费到十几万人民币，到大几十万人民币，以及百万人民币不等。作为「介绍数据监测产品系列」第一篇，就一定要介绍一款优秀的产品 —— Google Analytics.
Google Analytics 是一款网站数据监测系统(产品)，也就是我们常说的 Google Analytics. Google Analytics 前身是 Urchin，于 2005 年 3 月时被 Google 收购；同年 11 月，Google 在 Urchin 基础上开发了 Google Analytics.
（图：Urchin 产品界面）
题外话：Google Analytics 的渠道追踪参数 UTM 便是从 Urchin 继承过来，是 Urchin Traffic Monitor 的缩写。国内有些数据分析产品的渠道追踪参数也使用了 UTM，原因猜测有二：
1、用 Google Analytics 的网站太多了，便于替换； 2、直接 Copy, 并不知道 UTM 是什么的意思 :)
2011 年 3 月 Google Analytics 升级为 v5 版，2012 年 10 月 Google Analytics 最后一个版本被命名为 Universal Analytics。与 Google Analytics 最大的不同是 Universal Analytics 推出了 UserID，通过 UserID 进行跨终端追踪，和自定义维度和指标。Google 官方已经宣布不继续对旧版 Google Analytics 升级和维护，绝大多数使用 Google Analytics 的网站也已经升级为了 Universal Analytics, 所以下文提到的 Google Analytics 均为 Universal Analytics 版本。
Google Analytics 有两个版本：免费版和付费版(Premium)。付费版 15w 美元/年，除了数据不抽样外，付费版可以使用 BigQuery、DoubleClick Campaign Manager 和 DoubleClick Bid Manager。BigQuery 是 Google 云端的数据仓库，直接写 SQL 即可快速查询数据。据说，查询几十 G 的数据仅需几秒钟。目前国内使用 Google Analytics 的企业有很多，大型网站如：京东、豆瓣、知乎、蘑菇街、丁香园，小型网站更是不计其数。
绝大多数朋友在谈论 Google Analytics 时都是谈论的免费版本，比如「Google Analytics 和百度统计哪个好？」、「Google Analytics 如何设置跨域监测？」等，所以以下内容侧重免费版 Google Analytics(付费版包括免费版全部优点)....</p>
  </div>
  <footer class="entry-footer"><span class="more-meta">  </span><span title='2015-05-09 12:10:00 +0000 UTC'>2015-05-09</span>&nbsp;·&nbsp;2 min</footer>
  <a class="entry-link" aria-label="post link to 优秀的数据监测产品：Google Analytics" href="https://salmon3g.github.io/posts/pm/ga-1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>数据分析师的技能树
    </h2>
  </header>
  <div class="entry-content">
    <p>如今流量获取成本不断提高，越来越多的企业从粗放的运营模式转变为精细化运营，企业对员工素质的要求也越来越高。设计师能做数据分析，产品经理能做数据分析，运营也能做数据分析，甚至 CEO 也自己做起了数据分析。
数据分析师想要提高自己的价值，就需要不断提高自己的「技能树」。 注：本文所述的数据分析指的是网站数据分析
0、准备阶段 数据分析离不开使用 Excel，熟练掌握 Excel 常用操作是必须的。
图表类型的选择与设置 常用函数(sum、vlookup、average、max 等) 常用公式(统计类、计算类、判断类、查找类) 数据透视表 常用 SQL 做网站数据分析，肯定要掌握网站的基础知识。
网站的运行原理 服务器、网站、页面(Page)、URL 之间的关系 静态网站和动态网站的区别 网站 Cookie、Session 基本的 Html&#43;JavaScript 知识 有自己的测试网站(Blog 就行) 1、起步阶段 先从免费的学起，Google Analytics 是一定要掌握的(关于原因本公众号之前专门写过，有兴趣的可以翻看下历史)。
数据采集原理 指标计算逻辑(PV、UV、跳出率、退出率……) 网站添加监测方法 流量标记方法 流量来源分类(直接流量、自然流量、SEO、PPC、EDM……)及规则 页面、虚拟页面、自定义事件区别和设置 转化目标、漏斗设置 电商类网站监测设置 2、初级阶段 了解公司业务并开始使用分析工具并进行分析。
扎实的业务知识 网站基础数据(PV、UV、停留时长、跳出率) 用户从哪里来，从哪里走 用户的浏览路径 网站目标达成次数及价值 多维度分析 自定义指标、维度、报表 3、中级阶段 熟练掌握一个或多个分析工具，并知晓各分析工具之间的异同，能快速定位两个工具在数据统计上的差别的原因。具备完善的分析思路，能独自撰写完整的数据分析报告，为运营提供数据支撑和指导。
阶段性报告(日报、周报、月报……) 虚假流量排查 LandingPage 优化 站内搜索优化 网站导航优化 漏斗模型设定与分析 网站关键路径转化分析 网站用户忠诚度分析 用户综合价值评分体系搭建 电子商务网站的 RFM (最近一次消费(Recency)、消费频率(Frequency)、消费金额(Monetary))分析 交叉销售分析 A/B Testing 行业分析 竞争对手分析 4、高级阶段 不同企业应用场景不同，面临的问题也不同，更加考验数据分析师的大局观和应对能力。
挖掘整个公司的数据需求 多套数据系统整合 更加复杂的应用场景监测方案 向整个公司推销数据价值 数据产品建设 推广数据驱动决策理念 最后，与君共勉：Data is wonderful.</p>
  </div>
  <footer class="entry-footer"><span class="more-meta">  </span><span title='2014-12-13 10:59:00 +0000 UTC'>2014-12-13</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to 数据分析师的技能树" href="https://salmon3g.github.io/posts/analytics/analyst-skill-tree/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>伸手党
    </h2>
  </header>
  <div class="entry-content">
    <p>伸手党在百科中有这么一个解释：想经过他人直接获得某个问题的答案而不自己搜索。伸手党在网站分析 QQ 群中也经常出现，这里所谓的伸手党为遇到问题（无论难易），不主动通过搜索引擎、或者自己实验，而直接将为题抛到 QQ 群中，常见如下：
为什么我无法登录 GA 了？/ Google Anlaytics 登录白屏怎么办？ 我网站的流量今天突然减少了很多，这是为什么呢？ 除了 Google Analytics 还有哪些网站分析工具啊？ 为什么百度统计和 Google Analytics 统计的数据不一样呢？ 求 Google Analytcis 的登录地址？ 为什么不能识别 so.com 搜索引擎？ 我有多个二级域名，如何设置跨域啊？ 我是新人，该怎么学习网站分析呢？ 我的 Google Analytics 账户数据全部没有了，怎么回事呢？ 网站分析有哪些适合入门的书籍？ …… 类似的问题太多了，而且不断重复出现的 QQ 群中。有很多问题扔个关键词到搜索引擎中就能看到相关的内容，很多前辈（如宋星老师的网站分析在中国）的博客，很多基础都写的非常清楚了。蓝鲸博客也写了很多关于 Google Analtycis 使用方面的博文，而且还将博客整理成书。但是有些人就是不去自己查，而是把问题扔到 QQ 群中，然后坐等答案（和伸手党有何区别）。不过由于 Google Analtycis 不断更新，很多配置也有所调整、有些函数方法已经弃用，或者失效，所以对于 Google Analytics 使用方面的问题最好还是到官方文档中找最新的解决方案（Google Analytics 官方文档也有写错的地方，前段时间发现两处，反馈给了官方和 Justin，官方及时做了修正）。
即使是做 SEO、SEM、设计、运营等并非专职的分析人员，随着网站精细化运营，网站分析都变的非常重要，网站分析基础知识都是要学的。买本基础书籍、多读前辈写的博文，而不是遇到问题直接将问题扔到 QQ 群。还有些人的问题描述也不太清楚，建议读读“提问的智慧”。
好的问题能引起大家的共鸣，互相交流，互相学习，才能提升。但是，在这个时间就是金钱的时代，每个人都有自己的工作，伸手党只会让部分人默默的将 QQ 群消息改为“只显示数目”，或者“屏蔽该群消息”。同时，信息快速更新，通过问别人而得到的答案有时并不一定正确，最好的方法还是自己动手实践。
杜绝做伸手党，维护网站分析氛围从我做起！
注：此文对事不对人，伸手党为一种现象，请勿对号入座。</p>
  </div>
  <footer class="entry-footer"><span class="more-meta">  </span><span title='2014-01-25 11:59:00 +0000 UTC'>2014-01-25</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to 伸手党" href="https://salmon3g.github.io/posts/life/get-to-easy/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>2013年个人总结
    </h2>
  </header>
  <div class="entry-content">
    <p>2013 年不管好与坏、得与失，过去了就是过去了。革命尚未成功，同志仍需努力！
工作 工作是 2013 年最重要的内容，上班时在工作，下班时也在想着工作。对于一个来自大山里的孩子，没有显赫的出身，亦没有过人的天赋，他的字典里没有“衣食无忧”，有的只是“自强不息”，只有不断努力工作才能为将来创造更好的生活。尽管如此，工作并未取得太多的令自己满意的成就。
1、个人提升
全面了解公司业务和数据，多方面多角度考虑问题，对互联网营销部也有了宏观理解，对在线营销数据也有了微观把控。沟通能力和人际关系处理能力也有所提升，随着对 Excel 函数公式和数据透视表的不断学习，大大提高了工作效率。沟通能力和人际关系处理能力还要不断提升，尤其是面对比较强势的开发同事。时间管理和工作效率有待提高，需要深入学习 Python、JavaScript、数据可视化等专业知识。
2、团队配合
任何成功都离不开团队的配合，但是好的团队一定要不断的磨合。网站数据分析基础设施和文档从无到有不断完善中，部分以前无法获取的数据现在已经可以定期得到，很多同事也开始注重数据。与营销、开发、测试等同事配合并不太理想，开发同事那边还有漏加监测代码情况，Orz~~
3、公司环境
尽管所属部门是互联网营销部，但是公司整体还是更多的偏于传统。高层不太容易相信新兴事物和技术，安全意识极高。无数据驱动运营理念和体系，建立之路也困难重重。部门压力比较小，同时成长空间也有限。这样的环境会给人一种安逸的错觉，时间久了自己就成了“温水中青蛙”，不想成为真正的“温水中青蛙”就要加强自我意识，在别人看视频时、聊天时、准点上下班时，按照自己的规划和节奏学习，stay hungry!
学习 看了几本网站分析和营销相关的书籍，有偏理论的，也有偏技术的。试着考了下 GAIQ（Google Analytics Individual Qualification），一次顺利通过，算是完成了刚毕业时的一个小目标。也看了几本时间管理、社会心理、人物传记等书籍，非常喜欢的是柴静写的《看见》，觉得好但是不知道如何写评语和笔记，这可能就是所谓的“无法言传”吧。
工作中离不开数据、图表和 PPT，所以学习了很多关于图表、PPT 设计的相关资料，颜色搭配非常重要，同时还需要有耐心，善于观察和积累。只要用心，相信定能做出让自己满意的图表和 PPT。
放弃了使用四年多的 WordPress 博客系统（WordPress 是一款非常不错的开源博客系统，功能强大，但是随着版本的升级，程序越来越臃肿，开发成 CMS 系统都绰绰有余了）。自己更加喜欢简洁、高效，所以开始使用轻量级开源博客程序 Typecho，并将一款个人非常喜欢的 WordPress 主题移植到了 Typecho（已得到原创作者的同意）。这款主题非常大气，同时方便在移动设备上浏览，不信你用手机浏览器中输入 wangdongxing.com 试试。 :P
2013 年很少写博客，以前的内容也选择性的删除了一部分，同时也开放了评论（感谢多说提供如此好的产品）。2014 年会更多的将工作、学习和生活中的事情记录下来，有用的知识希望能帮到别人。
生活 生活的很苦逼，大部分时间都坐在电脑旁，由于时间和空气太差也没有坚持锻炼身体（想起当年在贵阳那段时间每晚都出去跑步，真是幸福）。上下班有一个多小时的时间在路上，地铁&#43;公交车&#43;步行，由于走路较快，所以抵达终点总是大红脸一身汗，形象全无。为了节省时间中午吃了两个多月的西红柿刀削面，为了省钱也吃了不少榨菜。除了部门组织的青龙峡两日游，没有再去任何地方走走。
从没有碰过车到敢在路上跑也是不小的进步，不过科目三考两次没过想想还有有些郁闷，驾照下来要等明年了。
家人 很多周末去看自己的父母和陪女友去看她的父母，定期给远在老家的奶奶打电话。偶尔给姐姐家的外甥和外甥女买小礼物和书籍，比较高兴的是外甥女每天上学前都要看一个我给买的童话故事再走，而对于她每次考试得第一所要的奖励都是一袋辣条让我震惊；更让自己欣慰的是外甥学会了玩魔方，每次拿出魔方都如数家珍。很对不起的应该是自己的女友，没有陪她看过一次电影、一次旅行；为了完成我们的目标攒钱，每次看到自己喜欢的衣服她也都舍不得买。和女友五年多相濡以沫、不离不弃的感情是大学四年馈赠我最大的礼物！
2014 年还要继续努力工作、学习，希望生活上能抽出更多的时间陪伴家人，给父母买些他们没有吃过的东西，带她们去想去的地方，希望奶奶能健康长寿。也争取和女友一起看几场电影、多几次旅行，给她更多的关心和照顾。
永远年轻，永远热泪盈眶。</p>
  </div>
  <footer class="entry-footer"><span class="more-meta">  </span><span title='2013-12-30 12:09:00 +0000 UTC'>2013-12-30</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to 2013年个人总结" href="https://salmon3g.github.io/posts/life/2013-review/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>R语言一元线性回归模型
    </h2>
  </header>
  <div class="entry-content">
    <p>一元线性回归讨论的是一个因变量 Y 与有一个自变量 X 之间的关系，一元线性回归模型也叫一元线性方程。步骤如下：
1、数据准备
x&lt;-c(0.10,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.20,0.21,0.23)y&lt;-c(42.0,43.5,45.0,45.5,45.0,47.5,49.0,53.0,50.0,55.0,55.0,60.0)2、画图
plot(y ~ 1&#43;x)从图看出，散点图基本在一条一条直线附近，可以认为 Y 与 X 的关系基本上是线性的。
3、创建模型
lm.sol&lt;-lm(y ~ 1&#43;x)4、查看结果
summary(lm.sol)R 语言一元线性回归模型summary
残差的最小值点、1/4 分为点、中位数点、3/4 分为点和最大值点分别为：-2.0431、-0.7056、0.1694、0.6633、2.2653；显著性标记为三颗星，极为显著。从计算结果可以看出回归模型通过了回归参数与回归方程的检验。
5、回归模型
Y = 28.493 &#43; 130.835X附：在 R 语言中，与线性模型有关的函数有 lm()、summary()、 anova()、predict() 等</p>
  </div>
  <footer class="entry-footer"><span class="more-meta">  </span><span title='2013-12-10 10:13:00 +0000 UTC'>2013-12-10</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to R语言一元线性回归模型" href="https://salmon3g.github.io/posts/analytics/simple-linear-regression/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>4行Python下载经济学人图表
    </h2>
  </header>
  <div class="entry-content">
    <p>经常做图表的同学应该知道经济学人，经济学人的图表简洁、专业值得学习。经济学人的图表是每周一期，大概有五十多期，可以借助 Python 下载。
思路：
以一期为基础，将其 URL 按照日期形式 &#43;/-7 拉出所有的 URL 并保存到 txt 中 用 Python 读取 txt 中的 URL 地址并下载 Python 代码如下：
import urllib with open(&#39;d://url.txt&#39;, &#39;r&#39;) as f: for i,url in enumerate(f.readlines()): urllib.urlretrieve(url,&#39;d://pdf/%s.pdf&#39;%i) </p>
  </div>
  <footer class="entry-footer"><span class="more-meta">  </span><span title='2013-10-14 10:59:00 +0000 UTC'>2013-10-14</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to 4行Python下载经济学人图表" href="https://salmon3g.github.io/posts/analytics/download/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://salmon3g.github.io/page/3/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://salmon3g.github.io/page/5/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer"> 
    <span>Copyright &copy; 2009 - 2022 <a href="https://salmon3g.github.io">往东行</a></span>
    <span><a href="https://salmon3g.github.io/index.xml">Sitemap</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>
</html>
